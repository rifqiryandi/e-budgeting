(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-13b39c63"],{"3dc7":function(e,t,a){var n=a("a561");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var l=a("499e").default;l("6c9e1122",n,!0,{sourceMap:!1,shadowMode:!1})},"7cb1":function(e,t,a){"use strict";a("3dc7")},a561:function(e,t,a){var n=a("24fb");t=n(!1),t.push([e.i,"",""]),e.exports=t},feff:function(e,t,a){"use strict";a.r(t);var n=a("7a23");const l={class:"row"},i={class:"col-12"},o={class:"card"},r={class:"card-body"},s=Object(n["createElementVNode"])("h3",{style:{"font-weight":"500"}},"Pencarian",-1),d=Object(n["createElementVNode"])("hr",null,null,-1),c={class:"grid grid-cols-1 gap-2"},b={class:""},u=Object(n["createElementVNode"])("label",{class:"block mb-2 text-base font-medium text-gray-900 dark:text-white"}," Pengajuan Biaya ",-1),g=Object(n["createElementVNode"])("option",{value:""},"-- Pilih Jenis Pengajuan --",-1),m=Object(n["createElementVNode"])("option",{value:"PBI"},"Beban Reguler",-1),j=Object(n["createElementVNode"])("option",{value:"PK"},"Beban Komitmen",-1),p=[g,m,j],h={class:"row"},k={class:"col-12 d-flex justify-content-end"},O=Object(n["createElementVNode"])("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 -960 960 960",width:"24"},[Object(n["createElementVNode"])("path",{d:"M450.001-450.001h-230v-59.998h230v-230h59.998v230h230v59.998h-230v230h-59.998v-230Z"})],-1),v={class:"row mt-3"},f={class:"col-12"},w={class:"card"},x={class:"card-body"},V={class:"d-flex justify-content-end"},y={class:"p-input-icon-left"},N=Object(n["createElementVNode"])("i",{class:"fa fa-search","aria-hidden":"true"},null,-1),_={key:0,class:"label-nonAktif"},E={key:1,class:"label-Aktif"},P={key:2,class:"label-Aktif"},F={style:{"font-weight":"600"}},B={style:{"font-weight":"600"}},S={class:"text-right"},D={class:"text-base"},R={style:{"font-weight":"600"}},C=["onClick"],M=Object(n["createElementVNode"])("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 -960 960 960",width:"24"},[Object(n["createElementVNode"])("path",{d:"M206.154-200h49.461l370.387-370.386-49.461-49.462-370.387 370.387V-200Zm548.152-413.77L619.309-747.537l52.154-52.153q17.615-17.615 42.845-17.615t42.845 17.615l48.692 48.691q17.615 17.615 18.23 42.23.615 24.615-17 42.23l-52.769 52.769Zm-43.383 43.999-429.77 429.77H146.156v-134.998l429.769-429.77 134.998 134.998Zm-109.844-25.538-24.538-24.539 49.461 49.462-24.923-24.923Z"})],-1),T=[M],U={id:"input-modal",tabindex:"-1",class:"fixed top-0 left-0 right-0 mb-8 z-50 hidden w-full p-4 overflow-x-hidden overflow-y-auto md:inset-0 h-[calc(100%-1rem)] max-h-full"},I={class:"relative w-full max-w-4xl max-h-full"},K={class:"relative bg-white rounded-lg shadow dark:bg-gray-700"},L={class:"flex items-center justify-between p-3 border-b rounded-t dark:border-gray-600 bg-bni-orange"},$=Object(n["createElementVNode"])("h3",{class:"text-xl font-medium",style:{color:"#fff"}}," Pengajuan Realisasi Anggaran ",-1),A=Object(n["createElementVNode"])("svg",{class:"w-3 h-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14"},[Object(n["createElementVNode"])("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})],-1),q=Object(n["createElementVNode"])("span",{class:"sr-only"},"Close modal",-1),J=[A,q],z={class:"p-6 space-y-2"},Z={class:""},H=Object(n["createElementVNode"])("label",{class:"block mb-2 text-base font-medium text-gray-900 dark:text-white"},[Object(n["createTextVNode"])(" Jenis Beban "),Object(n["createElementVNode"])("span",{class:"text-red-600"},"*")],-1),Y=Object(n["createElementVNode"])("option",{value:""},"-- Pilih Jenis Beban --",-1),G=Object(n["createElementVNode"])("option",{value:"PBI"},"Beban Reguler",-1),Q=Object(n["createElementVNode"])("option",{value:"PK"},"Beban Komitmen",-1),W=[Y,G,Q],X={class:""},ee=Object(n["createElementVNode"])("label",{class:"block mb-2 text-base font-medium text-gray-900 dark:text-white"},[Object(n["createTextVNode"])(" Pengajuan Pembayaran "),Object(n["createElementVNode"])("span",{class:"text-red-600"},"*")],-1),te=["disabled"],ae=Object(n["createElementVNode"])("option",{value:""},"-- Pilih Pengajuan Pembayaran --",-1),ne=["value"],le={key:0,class:"mt-2 text-sm text-red-600 dark:text-red-500 m-0"},ie={class:""},oe=Object(n["createElementVNode"])("label",{class:"block mb-2 text-base font-medium text-gray-900 dark:text-white"},[Object(n["createTextVNode"])(" PKP "),Object(n["createElementVNode"])("span",{class:"text-red-600"},"*")],-1),re=Object(n["createElementVNode"])("option",{value:""},"-- Pilih PKP --",-1),se=Object(n["createElementVNode"])("option",{value:"1"},"Ya",-1),de=Object(n["createElementVNode"])("option",{value:"0"},"Tidak",-1),ce=[re,se,de],be={key:0,class:"mt-2 text-sm text-red-600 dark:text-red-500 m-0"},ue={class:""},ge=Object(n["createElementVNode"])("label",{class:"block mb-2 text-base font-medium text-gray-900 dark:text-white"}," Nomor Faktur ",-1),me={class:""},je=Object(n["createElementVNode"])("label",{class:"block mb-2 text-base font-medium text-gray-900 dark:text-white"}," Tanggal Faktur ",-1),pe={class:""},he=Object(n["createElementVNode"])("label",{class:"block mb-2 text-base font-medium text-gray-900 dark:text-white"},[Object(n["createTextVNode"])(" Tanggal Pengajuan"),Object(n["createElementVNode"])("span",{class:"text-red-600"},"*")],-1),ke={key:0,class:"mt-2 text-sm text-red-600 dark:text-red-500 m-0"},Oe={class:""},ve=Object(n["createElementVNode"])("label",{class:"block mb-2 text-base font-medium text-gray-900 dark:text-white"}," Nominal Pengajuan ",-1),fe={class:""},we=Object(n["createElementVNode"])("label",{class:"block mb-2 text-base font-medium text-gray-900 dark:text-white"}," Nominal Realisasi ",-1),xe={class:""},Ve=Object(n["createElementVNode"])("label",{class:"block mb-2 text-base font-medium text-gray-900 dark:text-white"}," Kode Pengajuan ",-1),ye={class:""},Ne=Object(n["createElementVNode"])("label",{class:"block mb-2 text-base font-medium text-gray-900 dark:text-white"},[Object(n["createTextVNode"])(" Keterangan "),Object(n["createElementVNode"])("span",{class:"text-red-600"},"*")],-1),_e={key:0,class:"mt-2 text-sm text-red-600 dark:text-red-500 m-0"},Ee={class:"flex items-center justify-center p-6 space-x-2 border-t border-gray-200 rounded-b dark:border-gray-600"},Pe={id:"detail-modal",tabindex:"-1",class:"fixed top-0 left-0 right-0 mb-8 z-50 hidden w-full p-4 overflow-x-hidden overflow-y-auto md:inset-0 h-[calc(100%-1rem)] max-h-full"},Fe={class:"relative w-full max-w-4xl max-h-full"},Be={class:"relative bg-white rounded-lg shadow dark:bg-gray-700"},Se={class:"flex items-center justify-between p-3 border-b rounded-t dark:border-gray-600 bg-bni-orange"},De=Object(n["createElementVNode"])("h3",{class:"text-xl font-medium",style:{color:"#fff"}}," Detail Realisasi ",-1),Re=Object(n["createElementVNode"])("svg",{class:"w-3 h-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14"},[Object(n["createElementVNode"])("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})],-1),Ce=Object(n["createElementVNode"])("span",{class:"sr-only"},"Close modal",-1),Me=[Re,Ce],Te={class:"p-6"},Ue={class:"grid grid-cols-2 gap-2 mb-2"},Ie={class:""},Ke={class:"mb-1"},Le=Object(n["createElementVNode"])("p",{class:"text-lg font-semibold mb-0"},"Entitas",-1),$e={class:"text-base"},Ae={class:"mb-1"},qe=Object(n["createElementVNode"])("p",{class:"text-lg font-semibold mb-0"},"Sub Mata Anggaran",-1),Je={class:"text-base"},ze={class:"mb-1"},Ze=Object(n["createElementVNode"])("p",{class:"text-lg font-semibold mb-0"},"Jenis Pengajuan",-1),He={class:"text-base"},Ye={class:"mb-1"},Ge=Object(n["createElementVNode"])("p",{class:"text-lg font-semibold mb-0"},"Nama Kegiatan",-1),Qe={class:"text-base"},We={class:"mb-1"},Xe=Object(n["createElementVNode"])("p",{class:"text-lg font-semibold mb-0"},"Uraian Kegiatan",-1),et={class:"text-base"},tt={class:""},at={class:"mb-1"},nt=Object(n["createElementVNode"])("p",{class:"text-lg font-semibold mb-0"},"Departemen",-1),lt={class:"text-base"},it={class:"mb-1"},ot=Object(n["createElementVNode"])("p",{class:"text-lg font-semibold mb-0"},"Nominal Realisasi",-1),rt={class:"text-base"},st={class:"mb-1"},dt=Object(n["createElementVNode"])("p",{class:"text-lg font-semibold mb-0"},"Status",-1),ct={key:0,class:"label-nonAktif"},bt={key:1,class:"label-Aktif"},ut={key:2,class:"label-Aktif"},gt={class:"mb-1"},mt=Object(n["createElementVNode"])("p",{class:"text-lg font-semibold mb-0"},"Nomor Faktur",-1),jt={class:"text-base"},pt={class:"mb-1"},ht=Object(n["createElementVNode"])("p",{class:"text-lg font-semibold mb-0"},"Tanggal Faktur",-1),kt={class:"text-base"},Ot=Object(n["createElementVNode"])("hr",{class:"bg-gray-400"},null,-1),vt={class:"row"},ft={class:"col-12"},wt=Object(n["createElementVNode"])("label",{class:"block mb-2 text-base font-medium text-gray-900 dark:text-white"}," Jenis Dokumen ",-1),xt=Object(n["createElementVNode"])("option",{value:""},"-- Pilih Jenis Dokumen --",-1),Vt={value:"1"},yt={value:"3"},Nt={key:0,value:"2"},_t={key:1,value:"4"},Et={class:"col-12 pt-8"},Pt={class:"col-12 pt-6"},Ft=Object(n["createElementVNode"])("label",{class:"block mb-2 text-lg font-medium text-gray-900 dark:text-white"}," List File ",-1),Bt=["value"],St={class:"col-8 flex"},Dt={xmlns:"http://www.w3.org/2000/svg",height:"64",viewBox:"0 -960 960 960",width:"64",style:{fill:"#006699"}},Rt=Object(n["createElementVNode"])("path",{d:"M252.309-100.001q-30.308 0-51.308-21t-21-51.308v-615.382q0-30.308 21-51.308t51.308-21h317.692l209.998 209.998v477.692q0 30.308-21 51.308t-51.308 21H252.309Zm287.692-520V-800H252.309q-4.616 0-8.463 3.846-3.846 3.847-3.846 8.463v615.382q0 4.616 3.846 8.463 3.847 3.846 8.463 3.846h455.382q4.616 0 8.463-3.846 3.846-3.847 3.846-8.463v-447.692H540.001ZM240-800v179.999V-800v640V-800Z"},null,-1),Ct=[Rt],Mt={class:"text-base m-0 pt-3"},Tt={class:"col-4"},Ut=["onClick"];function It(e,t,a,g,m,j){const M=Object(n["resolveComponent"])("InputText"),A=Object(n["resolveComponent"])("Column"),q=Object(n["resolveComponent"])("DataTable"),Y=Object(n["resolveComponent"])("VueDatePicker"),G=Object(n["resolveComponent"])("InputNumber"),Q=Object(n["resolveComponent"])("FileUpload");return Object(n["openBlock"])(),Object(n["createElementBlock"])(n["Fragment"],null,[Object(n["createElementVNode"])("div",l,[Object(n["createElementVNode"])("div",i,[Object(n["createElementVNode"])("div",o,[Object(n["createElementVNode"])("div",r,[s,d,Object(n["createElementVNode"])("div",c,[Object(n["createElementVNode"])("div",b,[u,Object(n["withDirectives"])(Object(n["createElementVNode"])("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>m.filters.jenis_pengajuan=e),class:"bg-gray-50 border border-gray-300 text-gray-900 text-base rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"},p,512),[[n["vModelSelect"],m.filters.jenis_pengajuan]])])]),Object(n["createElementVNode"])("button",{class:"btn w-full mt-3",style:{"border-radius":"6px",background:"#006699",color:"#ffff",height:"48px","padding-top":"11px","padding-bottom":"11px"},onClick:t[1]||(t[1]=(...e)=>j.cariData&&j.cariData(...e))}," Tampilkan ")])])])]),Object(n["createElementVNode"])("div",h,[Object(n["createElementVNode"])("div",k,[Object(n["createElementVNode"])("button",{class:"btn d-flex btn-add",onClick:t[2]||(t[2]=(...e)=>j.showInput&&j.showInput(...e))},[O,Object(n["createTextVNode"])(" Tambah Data ")])])]),Object(n["createElementVNode"])("div",v,[Object(n["createElementVNode"])("div",f,[Object(n["createElementVNode"])("div",w,[Object(n["createElementVNode"])("div",x,[Object(n["createVNode"])(q,{value:j.getAllData,lazy:"",paginator:"",totalRecords:m.pagination.totaldata,rows:m.pagination.perPage,rowsPerPageOptions:[5,10,20,50],paginatorTemplate:"RowsPerPageDropdown FirstPageLink PrevPageLink CurrentPageReport NextPageLink LastPageLink",currentPageReportTemplate:"{first} to {last} of {totalRecords}",tableStyle:"min-width: 50rem",filters:m.filters,"onUpdate:filters":t[4]||(t[4]=e=>m.filters=e),loading:m.loading,onPage:t[5]||(t[5]=e=>j.paginationTable(e))},{header:Object(n["withCtx"])(()=>[Object(n["createElementVNode"])("div",V,[Object(n["createElementVNode"])("span",y,[N,Object(n["createVNode"])(M,{modelValue:m.filters.cari,"onUpdate:modelValue":t[3]||(t[3]=e=>m.filters.cari=e),onInput:j.cariData,placeholder:"Search"},null,8,["modelValue","onInput"])])])]),empty:Object(n["withCtx"])(()=>[Object(n["createTextVNode"])(" No Data found. ")]),loading:Object(n["withCtx"])(()=>[Object(n["createTextVNode"])(" Loading data. Please wait. ")]),default:Object(n["withCtx"])(()=>[Object(n["createVNode"])(A,{field:"",header:"Status",style:{"min-width":"220px !important"}},{body:Object(n["withCtx"])(({data:e})=>[0==e.status_realisasi?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",_," Request By Officer ")):1==e.status_realisasi?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",E," Validate By Departemen Head ")):2==e.status_realisasi?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",P," Validate By BUM ")):Object(n["createCommentVNode"])("",!0)]),_:1}),Object(n["createVNode"])(A,{field:"uraian_kegiatan",header:"Kegiatan",style:{"min-width":"180px !important"}},{body:Object(n["withCtx"])(({data:e})=>[Object(n["createElementVNode"])("div",F,Object(n["toDisplayString"])(e.uraian_kegiatan),1)]),_:1}),Object(n["createVNode"])(A,{field:"nama_sub_mata_anggaran",header:"Sub Mata Anggaran",style:{"min-width":"200px !important"}},{body:Object(n["withCtx"])(({data:e})=>[Object(n["createElementVNode"])("div",null,Object(n["toDisplayString"])(e.nama_sub_mata_anggaran),1)]),_:1}),Object(n["createVNode"])(A,{field:"kode_pengajuan",header:"Kode Pengajuan",style:{"min-width":"200px !important"}},{body:Object(n["withCtx"])(({data:e})=>[Object(n["createElementVNode"])("div",B,Object(n["toDisplayString"])(e.kode_pengajuan),1)]),_:1}),Object(n["createVNode"])(A,{field:"nominal",header:"Nominal",style:{"min-width":"220px !important"}},{body:Object(n["withCtx"])(({data:e})=>[Object(n["createElementVNode"])("div",S,Object(n["toDisplayString"])(e.nominal.toLocaleString("de-DE")),1)]),_:1}),Object(n["createVNode"])(A,{field:"tanggal",header:"Tanggal Pengajuan",style:{"min-width":"180px !important"}},{body:Object(n["withCtx"])(({data:e})=>[Object(n["createElementVNode"])("div",null,Object(n["toDisplayString"])(e.tanggal_pengajuan.split("T")[0].split("-")[0]+"-"+e.tanggal_pengajuan.split("T")[0].split("-")[1]+"-"+e.tanggal_pengajuan.split("T")[0].split("-")[2]),1)]),_:1}),Object(n["createVNode"])(A,{field:"",header:"Jenis Pengajuan",style:{"min-width":"160px !important"}},{body:Object(n["withCtx"])(({data:e})=>[Object(n["createElementVNode"])("div",null,[Object(n["createElementVNode"])("p",D,Object(n["toDisplayString"])("PBI"==e.jenis_pengajuan?"Beban Reguler":"PB"==e.jenis_pengajuan?"Pengajuan Baru":"PK"==e.jenis_pengajuan?"Beban Komitmen":""),1)])]),_:1}),Object(n["createVNode"])(A,{field:"",header:"Task"},{body:Object(n["withCtx"])(({data:e})=>[Object(n["createElementVNode"])("div",R,[Object(n["createElementVNode"])("button",{class:"bg-transparent border-0",title:"Upload Lampiran Pengajuan Realisasi",onClick:t=>j.detailView(e)},T,8,C)])]),_:1})]),_:1},8,["value","totalRecords","rows","filters","loading"])])])])]),Object(n["createElementVNode"])("div",U,[Object(n["createElementVNode"])("div",I,[Object(n["createElementVNode"])("div",K,[Object(n["createElementVNode"])("div",L,[$,Object(n["createElementVNode"])("button",{type:"button",class:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ml-auto inline-flex justify-center items-center dark:hover:bg-gray-600 dark:hover:text-white",onClick:t[6]||(t[6]=(...e)=>j.hideModal&&j.hideModal(...e))},J)]),Object(n["createElementVNode"])("div",z,[Object(n["createElementVNode"])("div",Z,[H,Object(n["withDirectives"])(Object(n["createElementVNode"])("select",{"onUpdate:modelValue":t[7]||(t[7]=e=>m.preview.jenisPengajuan=e),onChange:t[8]||(t[8]=(...e)=>j.getPengajuan&&j.getPengajuan(...e)),class:"border border-gray-300 text-gray-900 text-base rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"},W,544),[[n["vModelSelect"],m.preview.jenisPengajuan]])]),Object(n["createElementVNode"])("div",X,[ee,Object(n["withDirectives"])(Object(n["createElementVNode"])("select",{"onUpdate:modelValue":t[9]||(t[9]=e=>m.Form.id_pengajuan=e),onChange:t[10]||(t[10]=(...e)=>j.setPreview&&j.setPreview(...e)),class:"border border-gray-300 text-gray-900 text-base rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",disabled:""==m.preview.jenisPengajuan},[ae,(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(j.getRowPengajuan,(e,t)=>(Object(n["openBlock"])(),Object(n["createElementBlock"])("option",{key:t,value:e},Object(n["toDisplayString"])("PBI"==m.preview.jenisPengajuan?e.kode_sub_mata_anggaran+" - "+e.prefix_kegiatan+" - "+e.uraian_kegiatan:e.kode_sub_mata_anggaran+" - "+e.prefix_kegiatan+" - "+e.uraian),9,ne))),128))],40,te),[[n["vModelSelect"],m.Form.id_pengajuan]]),this.v$.Form.id_pengajuan.$error?(Object(n["openBlock"])(),Object(n["createElementBlock"])("p",le," Pengajuan biaya tidak boleh kosong! ")):Object(n["createCommentVNode"])("",!0)]),Object(n["createElementVNode"])("div",ie,[oe,Object(n["withDirectives"])(Object(n["createElementVNode"])("select",{"onUpdate:modelValue":t[11]||(t[11]=e=>m.Form.pkp=e),onChange:t[12]||(t[12]=(...e)=>j.setPreview&&j.setPreview(...e)),class:"border border-gray-300 text-gray-900 text-base rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"},ce,544),[[n["vModelSelect"],m.Form.pkp]]),this.v$.Form.pkp.$error?(Object(n["openBlock"])(),Object(n["createElementBlock"])("p",be," PKP tidak boleh kosong! ")):Object(n["createCommentVNode"])("",!0)]),Object(n["withDirectives"])(Object(n["createElementVNode"])("div",ue,[ge,Object(n["withDirectives"])(Object(n["createElementVNode"])("input",{"onUpdate:modelValue":t[13]||(t[13]=e=>m.Form.nomor_faktur=e),placeholder:"Masukkan Nomor Faktur",class:"border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-bni-blue focus:border-bni-blue block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",style:{height:"50px"}},null,512),[[n["vModelText"],m.Form.nomor_faktur]])],512),[[n["vShow"],1==m.Form.pkp]]),Object(n["withDirectives"])(Object(n["createElementVNode"])("div",me,[je,Object(n["createVNode"])(Y,{placeholder:"Pilih Tanggal",modelValue:m.Form.tanggal_faktur,"onUpdate:modelValue":t[14]||(t[14]=e=>m.Form.tanggal_faktur=e),format:"dd/MMMM/yyyy","auto-apply":""},null,8,["modelValue"])],512),[[n["vShow"],1==m.Form.pkp]]),Object(n["createElementVNode"])("div",pe,[he,Object(n["createVNode"])(Y,{placeholder:"Pilih Tanggal",modelValue:m.Form.tanggal_pengajuan,"onUpdate:modelValue":t[15]||(t[15]=e=>m.Form.tanggal_pengajuan=e),format:"dd/MMMM/yyyy","auto-apply":""},null,8,["modelValue"]),this.v$.Form.tanggal_pengajuan.$error?(Object(n["openBlock"])(),Object(n["createElementBlock"])("p",ke," Tanggal tidak boleh kosong! ")):Object(n["createCommentVNode"])("",!0)]),Object(n["createElementVNode"])("div",Oe,[ve,Object(n["createVNode"])(G,{modelValue:m.preview.nominal,"onUpdate:modelValue":t[16]||(t[16]=e=>m.preview.nominal=e),placeholder:"",class:"w-full",disabled:""},null,8,["modelValue"])]),Object(n["createElementVNode"])("div",fe,[we,Object(n["createVNode"])(G,{modelValue:m.Form.nominal,"onUpdate:modelValue":t[17]||(t[17]=e=>m.Form.nominal=e),onInput:j.validationNominal,placeholder:"",class:"w-full",disabled:""},null,8,["modelValue","onInput"])]),Object(n["withDirectives"])(Object(n["createElementVNode"])("div",xe,[Ve,Object(n["withDirectives"])(Object(n["createElementVNode"])("input",{"onUpdate:modelValue":t[18]||(t[18]=e=>m.preview.kode_pengajuan=e),placeholder:"Masukkan kode pengajuan",class:"border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-bni-blue focus:border-bni-blue block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",style:{height:"50px"},disabled:""},null,512),[[n["vModelText"],m.preview.kode_pengajuan]])],512),[[n["vShow"],!1]]),Object(n["createElementVNode"])("div",ye,[Ne,Object(n["withDirectives"])(Object(n["createElementVNode"])("textarea",{"onUpdate:modelValue":t[19]||(t[19]=e=>m.Form.keterangan=e),cols:"30",rows:"10",class:"border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-bni-blue focus:border-bni-blue block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"},null,512),[[n["vModelText"],m.Form.keterangan]]),this.v$.Form.keterangan.$error?(Object(n["openBlock"])(),Object(n["createElementBlock"])("p",_e," Keterangan tidak boleh kosong! ")):Object(n["createCommentVNode"])("",!0)])]),Object(n["createElementVNode"])("div",Ee,[Object(n["createElementVNode"])("button",{type:"button",onClick:t[20]||(t[20]=(...e)=>j.prosesInput&&j.prosesInput(...e)),class:"bg-bni-blue text-white focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-base px-5 py-2.5 text-center"}," SIMPAN "),Object(n["createElementVNode"])("button",{onClick:t[21]||(t[21]=(...e)=>j.hideModal&&j.hideModal(...e)),type:"button",class:"text-gray-500 bg-white hover:bg-gray-100 focus:ring-4 focus:outline-none focus:ring-gray-200 rounded-lg border border-gray-200 text-sm font-medium px-5 py-2.5 hover:text-gray-900 focus:z-10 dark:bg-gray-700 dark:text-gray-300 dark:border-gray-500 dark:hover:text-white dark:hover:bg-gray-600 dark:focus:ring-gray-600"}," TUTUP ")])])])]),Object(n["createElementVNode"])("div",Pe,[Object(n["createElementVNode"])("div",Fe,[Object(n["createElementVNode"])("div",Be,[Object(n["createElementVNode"])("div",Se,[De,Object(n["createElementVNode"])("button",{type:"button",class:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ml-auto inline-flex justify-center items-center dark:hover:bg-gray-600 dark:hover:text-white",onClick:t[22]||(t[22]=(...e)=>j.hideModal&&j.hideModal(...e))},Me)]),Object(n["createElementVNode"])("div",Te,[Object(n["createElementVNode"])("div",Ue,[Object(n["createElementVNode"])("div",Ie,[Object(n["createElementVNode"])("div",Ke,[Le,Object(n["createElementVNode"])("p",$e,Object(n["toDisplayString"])(m.detail.nama_entitas+" - "+m.detail.kode_entitas),1)]),Object(n["createElementVNode"])("div",Ae,[qe,Object(n["createElementVNode"])("p",Je,Object(n["toDisplayString"])(m.detail.kode_sub_mata_anggaran+" - "+m.detail.nama_sub_mata_anggaran),1)]),Object(n["createElementVNode"])("div",ze,[Ze,Object(n["createElementVNode"])("p",He,Object(n["toDisplayString"])("PBI"==m.detail.jenis_pengajuan?"Pengajuan biasa":"PB"==m.detail.jenis_pengajuan?"Pengajuan Baru":"PK"==m.detail.jenis_pengajuan?"Pengajuan Komitmen":""),1)]),Object(n["createElementVNode"])("div",Ye,[Ge,Object(n["createElementVNode"])("p",Qe,Object(n["toDisplayString"])(m.detail.uraian_kegiatan),1)]),Object(n["createElementVNode"])("div",We,[Xe,Object(n["createElementVNode"])("p",et,Object(n["toDisplayString"])(m.detail.uraian_pengajuan),1)])]),Object(n["createElementVNode"])("div",tt,[Object(n["createElementVNode"])("div",at,[nt,Object(n["createElementVNode"])("p",lt,Object(n["toDisplayString"])(void 0!=m.detail.nama_departement?m.detail.nama_departement:""),1)]),Object(n["createElementVNode"])("div",it,[ot,Object(n["createElementVNode"])("p",rt,Object(n["toDisplayString"])(void 0!=m.detail.nominal?"Rp "+m.detail.nominal.toLocaleString("de-DE"):""),1)]),Object(n["createElementVNode"])("div",st,[dt,0==m.detail.status_realisasi?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",ct," Request By Officer ")):1==m.detail.status_realisasi?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",bt," Validate By Departemen Head ")):2==m.detail.status_realisasi?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",ut," Validate By BUM ")):Object(n["createCommentVNode"])("",!0)]),Object(n["withDirectives"])(Object(n["createElementVNode"])("div",gt,[mt,Object(n["createElementVNode"])("p",jt,Object(n["toDisplayString"])(void 0!=m.detail.nomor_faktur?m.detail.nomor_faktur:""),1)],512),[[n["vShow"],1==m.detail.pkp]]),Object(n["withDirectives"])(Object(n["createElementVNode"])("div",pt,[ht,Object(n["createElementVNode"])("p",kt,Object(n["toDisplayString"])(void 0!=m.detail.tanggal_faktur?m.detail.tanggal_faktur.split("T")[0].split("-")[2]+"-"+m.detail.tanggal_faktur.split("T")[0].split("-")[1]+"-"+m.detail.tanggal_faktur.split("T")[0].split("-")[0]:""),1)],512),[[n["vShow"],1==m.detail.pkp]])])]),Ot,Object(n["createElementVNode"])("div",vt,[Object(n["createElementVNode"])("div",ft,[wt,Object(n["withDirectives"])(Object(n["createElementVNode"])("select",{"onUpdate:modelValue":t[23]||(t[23]=e=>m.Upload.jnsdokumen=e),onChange:t[24]||(t[24]=(...e)=>j.cekButtonUpload&&j.cekButtonUpload(...e)),class:"border border-gray-300 text-gray-900 text-base rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"},[xt,Object(n["withDirectives"])(Object(n["createElementVNode"])("option",Vt,"SPK",512),[[n["vShow"],""==m.jenisPengajuan.SPK]]),Object(n["withDirectives"])(Object(n["createElementVNode"])("option",yt," Invoice ",512),[[n["vShow"],""==m.jenisPengajuan.Invoice]]),1==m.detail.pkp?Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("option",Nt," Faktur Pajak ",512)),[[n["vShow"],""==m.jenisPengajuan.Faktur]]):Object(n["createCommentVNode"])("",!0),0==m.detail.pkp?Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("option",_t," Lampiran Non PKP ",512)),[[n["vShow"],""==m.jenisPengajuan.FileLampiran]]):Object(n["createCommentVNode"])("",!0)],544),[[n["vModelSelect"],m.Upload.jnsdokumen]])]),Object(n["createElementVNode"])("div",Et,[Object(n["createVNode"])(Q,{mode:"advanced",chooseLabel:"Browse",maxFileSize:1e6,onUploader:t[25]||(t[25]=e=>j.prosesUpload(e)),customUpload:!0,fileLimit:4,disabled:m.buttonActive,accept:"application/pdf,zip,application/octet-stream,application/zip,application/x-zip,application/x-zip-compressed"},null,8,["disabled"])]),Object(n["withDirectives"])(Object(n["createElementVNode"])("div",Pt,[Ft,(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(j.getListFile,(e,t)=>(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",{class:"row",key:t,value:e},[Object(n["createElementVNode"])("div",St,[(Object(n["openBlock"])(),Object(n["createElementBlock"])("svg",Dt,Ct)),Object(n["createElementVNode"])("p",Mt,Object(n["toDisplayString"])(e.lampiran.slice(0,50)),1)]),Object(n["createElementVNode"])("div",Tt,[Object(n["createElementVNode"])("button",{class:"download-style w-full lg:mt-1",style:{float:"'right'"},onClick:t=>j.downloadLinkFile(e.link)}," Download ",8,Ut)])],8,Bt))),128))],512),[[n["vShow"],null!=m.listFileRealisasi]])])])])])])],64)}a("b7ef");var Kt=a("e8f7"),Lt=a("3822"),$t=a("5b2c"),At=a("6f85"),qt=a("8398"),Jt=a("8d31"),zt=a("c3b3"),Zt=a("b9fb"),Ht=a("5141"),Yt=(a("1465"),a("0ba9")),Gt={name:"Pengajuan Realisasi",data(){return{v$:Object(zt["a"])(),token:sessionStorage.getItem("token"),modal:null,listRealisasi:null,listFileRealisasi:null,rowSMataAnggaran:null,rowDepartemen:null,rowAnggaran:null,rowPengajuan:null,filters:{kddepartemen:"",kdsubmatanggaran:"",status_anggaran:"",status_pengajuan:"",jenis_pengajuan:"",cari:""},pagination:{perPage:5,currentPage:1,totaldata:0},Upload:{myFile:null,id_realisasi:"",kode_pengajuan:"",jnsdokumen:""},Form:{id_pengajuan:"",tanggal_realisasi:"",kode_pengajuan:"",kode_buku:"",nominal:"",keterangan:"",user_id:"",tanggal_pengajuan:"",pkp:"",nomor_faktur:"",tanggal_faktur:"",jenis_pengajuan:""},jenisPengajuan:{SPK:"",Faktur:"",Invoice:"",FileLampiran:""},preview:{kode_pengajuan:"",kode_buku:"",nominal:"",jenisPengajuan:""},buttonActive:!0,detail:{pkp:""},loading:!1,userSession:JSON.parse(atob(sessionStorage.getItem("dataUser")))}},validations(){return{Form:{id_pengajuan:{required:Zt["d"]},tanggal_pengajuan:{required:Zt["d"]},kode_pengajuan:{required:Zt["d"]},nominal:{required:Zt["d"]},keterangan:{required:Zt["d"]},pkp:{required:Zt["d"]}}}},components:{DataTable:$t["a"],Column:At["a"],InputText:qt["a"],InputNumber:Lt["a"],VueDatePicker:Ht["a"],FileUpload:Kt["a"]},computed:{getAllData(){return this.listRealisasi},getRowPengajuan(){return this.rowPengajuan},getListFile(){return this.listFileRealisasi}},methods:{downloadLinkFile(e){window.open(e,"_blank","noreferrer")},setFileUploadSPK(e){this.UploadSPK.myFile=e.files[0]},validationNominal(e){e.value>this.preview.nominal&&this.$swal({icon:"info",title:"INFO",text:"Nominal realisasi tidak boleh lebih dari nominal pengajuan",confirmButtonColor:"#e77817"})},cekButtonUpload(e){""==e.target.value?this.buttonActive=!0:this.buttonActive=!1},async detailView(e){this.listFileRealisasi=null,this.jenisPengajuan={SPK:"",Faktur:"",Invoice:"",FileLampiran:""},this.detail=e,this.Upload.id_realisasi=e.id_realisasi,this.Upload.kode_pengajuan=e.kode_pengajuan;let t={id_realisasi:this.detail.id_realisasi};try{let e=await Yt["a"].listFileRealisasi(t,this.token);this.listFileRealisasi=e.data.data;for(let t=0;t<this.listFileRealisasi.length;t++)1==this.listFileRealisasi[t].jenis_dokumen?this.jenisPengajuan.SPK=this.listFileRealisasi[t].jenis_dokumen:2==this.listFileRealisasi[t].jenis_dokumen?this.jenisPengajuan.Faktur=this.listFileRealisasi[t].jenis_dokumen:3==this.listFileRealisasi[t].jenis_dokumen?this.jenisPengajuan.Invoice=this.listFileRealisasi[t].jenis_dokumen:4==this.listFileRealisasi[t].jenis_dokumen&&(this.jenisPengajuan.FileLampiran=this.listFileRealisasi[t].jenis_dokumen)}catch(n){this.listFileRealisasi=null}const a=document.getElementById("detail-modal");this.modal=new Jt["a"](a),this.modal.show()},setPreview(){this.preview={kode_pengajuan:this.Form.id_pengajuan.prefix_kegiatan,nominal:this.Form.id_pengajuan.nominal_pengajuan,jenisPengajuan:this.preview.jenisPengajuan},"PK"==this.preview.jenisPengajuan?this.Form.keterangan=this.Form.id_pengajuan.uraian:this.Form.keterangan=this.Form.id_pengajuan.uraian_kegiatan,this.Form.nominal=this.preview.nominal},async getPengajuan(){let e={idpengajuan:"",kddepartemen:this.userSession.departemen,status_pengajuan:1,jenis_pengajuan:this.preview.jenisPengajuan};try{let t=await Yt["a"].getPengajuanRealisasi(e,this.token);this.rowPengajuan=t.data.data,this.Form={id_pengajuan:"",tanggal:"",kode_pengajuan:"",kode_buku:"",nominal:"",keterangan:"",user_id:""},this.preview.kode_pengajuan="",this.preview.nominal=""}catch(t){this.rowPengajuan=null,console.log(t)}},cariData(){this.refreshListTable(1)},filterShow(){this.pagination.currentPage=1,this.refreshListTable()},paginationTable(e){this.pagination.perPage=e.rows,this.pagination.currentPage==e.page?this.pagination.currentPage++:this.pagination.currentPage-e.page==1?this.pagination.currentPage--:this.pagination.currentPage=e.page+1,this.refreshListTable()},showInput(){this.Form={id_pengajuan:"",tanggal:"",kode_pengajuan:"",kode_buku:"",nominal:"",keterangan:"",user_id:""};const e=document.getElementById("input-modal");this.modal=new Jt["a"](e),this.modal.show()},async getData(){this.loading=!0;let e={kdsubmatanggaran:this.filters.kdsubmatanggaran,kddepartemen:this.userSession.departemen,jenis_pengajuan:this.filters.jenis_pengajuan,perPage:this.pagination.perPage,currentPage:this.pagination.currentPage,cari:this.filters.cari,tanggalawal:"",tanggalakhir:""};try{let t=await Yt["a"].listRealisasi(e,this.token);this.pagination.totaldata=t.data.data.total_data,this.listRealisasi=t.data.data.data,this.loading=!1}catch(t){this.listRealisasi=null,this.loading=!1,console.log(t)}},async prosesInput(){if(this.Form.nominal>this.preview.nominal)return this.$swal({icon:"info",title:"INFO",text:"Nominal realisasi tidak boleh lebih dari nominal pengajuan",confirmButtonColor:"#e77817"});if(1==this.Form.pkp&&(""==this.Form.tanggal_faktur||""==this.Form.nomor_faktur))return this.$swal({icon:"info",title:"INFO",text:"Nomor Faktur dan Tanggal Faktur Tidak Boleh Kosong",confirmButtonColor:"#e77817"});let e=this.Form;if(e.kode_pengajuan=this.preview.kode_pengajuan,e.user_id=this.userSession.username,e.id_pengajuan=e.id_pengajuan.id,e.jenis_pengajuan=this.preview.jenisPengajuan,this.v$.$validate(),!this.v$.Form.$error){let a=new Date(e.tanggal_pengajuan);if(void 0!=e.tanggal_faktur){let t,a=new Date(e.tanggal_faktur),n=a.getFullYear(),l=a.getDate(),i=a.getMonth()+1;t=i>=10?i.toString():"0"+i.toString(),e.tanggal_faktur=n+"-"+t+"-"+l}let n,l=a.getFullYear(),i=a.getDate(),o=a.getMonth()+1;n=o>=10?o.toString():"0"+o.toString(),e.tanggal_pengajuan=l+"-"+n+"-"+i;try{let t=await Yt["a"].inputRealisasi(e,this.token);this.modal.hide(),this.$swal({icon:"success",title:"Berhasil",text:t.data.Msg,confirmButtonColor:"#e77817"}),this.Form={id_pengajuan:"",tanggal:"",kode_pengajuan:"",kode_buku:"",nominal:"",keterangan:"",user_id:""},this.preview={kode_pengajuan:"",kode_buku:"",nominal:"",jenisPengajuan:""},this.UploadSPK={myFile:null,id_realisasi:"",kode_pengajuan:"",jnsdokumen:"SPK"},this.UploadFaktur={myFile:null,id_realisasi:"",kode_pengajuan:"",jnsdokumen:"Faktur Pajak"},this.UploadInovice={myFile:null,id_realisasi:"",kode_pengajuan:"",jnsdokumen:"Inovice"},this.refreshListTable(),this.getPengajuan()}catch(t){this.$swal({icon:"error",title:"Gagal",text:t.response.data.Msg,confirmButtonColor:"#e77817"})}}},async prosesUpload(e){this.Upload.myFile=e.files[0];let t=new FormData,a=this.Upload;t.append("myFile",a.myFile),t.append("id_realisasi",a.id_realisasi),t.append("kode_pengajuan",a.kode_pengajuan),t.append("jnsdokumen",a.jnsdokumen);try{Yt["a"].uploadFileRealisasi(t,this.token).then(e=>{this.$swal({icon:"success",title:"Berhasil",text:e.data.Msg,confirmButtonColor:"#e77817"}).then(async e=>{if(e.isConfirmed){this.jenisPengajuan={SPK:"",Faktur:"",Invoice:"",FileLampiran:""},a.jnsdokumen="";let e={id_realisasi:this.detail.id_realisasi};this.loadFileRealiasi(e)}})})}catch(n){this.$swal({icon:"error",title:"Gagal",text:n.response.data.Msg,confirmButtonColor:"#e77817"})}},async loadFileRealiasi(e){try{let t=await Yt["a"].listFileRealisasi(e,this.token);this.listFileRealisasi=t.data.data;for(let e=0;e<this.listFileRealisasi.length;e++)1==this.listFileRealisasi[e].jenis_dokumen?this.jenisPengajuan.SPK=this.listFileRealisasi[e].jenis_dokumen:2==this.listFileRealisasi[e].jenis_dokumen?this.jenisPengajuan.Faktur=this.listFileRealisasi[e].jenis_dokumen:3==this.listFileRealisasi[e].jenis_dokumen?this.jenisPengajuan.Invoice=this.listFileRealisasi[e].jenis_dokumen:4==this.listFileRealisasi[e].jenis_dokumen&&(this.jenisPengajuan.FileLampiran=this.listFileRealisasi[e].jenis_dokumen)}catch(t){this.listFileRealisasi=null}},hideModal(){this.rowPengajuan=null,this.preview.jenisPengajuan="",this.modal.hide()},refreshListTable(e=0){0!=e&&(this.pagination.currentPage=1),this.getData()}},mounted(){Object(Jt["b"])()}},Qt=(a("7cb1"),a("6b0d")),Wt=a.n(Qt);const Xt=Wt()(Gt,[["render",It]]);t["default"]=Xt}}]);
//# sourceMappingURL=chunk-13b39c63.aa70869f.js.map