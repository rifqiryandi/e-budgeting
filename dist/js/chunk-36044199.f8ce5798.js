(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-36044199"],{"0ba9":function(e,a,t){"use strict";var n=t("7ba7");class r{inputAnggaran(e,a){var t={headers:{"x-access-token":a}};return n["a"].post("transaksi/inputanggaran",e,t)}getTransaksi(e,a){var t={headers:{"x-access-token":a}};return n["a"].post("transaksi/listtransaksi",e,t)}inputPersentasiAnggaran(e,a){var t={headers:{"x-access-token":a}};return n["a"].post("transaksi/inputpresenanggaran",e,t)}getIdAnggaran(e,a){var t={headers:{"x-access-token":a}};return n["a"].post("transaksi/getidanggaran",e,t)}getListPresentasiAnggaran(e,a){var t={headers:{"x-access-token":a}};return n["a"].post("transaksi/listpresentasianggaran",e,t)}validasiAlokasi(e,a){var t={headers:{"x-access-token":a}};return n["a"].post("transaksi/validasialokasi",e,t)}validasiKegiatan(e,a){var t={headers:{"x-access-token":a}};return n["a"].post("transaksi/validasikegiatan",e,t)}inputKegiatan(e,a){var t={headers:{"x-access-token":a}};return n["a"].post("transaksi/inskegiatan",e,t)}listKegiatan(e,a){var t={headers:{"x-access-token":a}};return n["a"].post("transaksi/listkegiatan",e,t)}getKegiatan(e,a){var t={headers:{"x-access-token":a}};return n["a"].post("pengajuan/getidkegiatan",e,t)}inputPengajuanBiaya(e,a){console.log(e);var t={headers:{"x-access-token":a}};return n["a"].post("pengajuan/inspengajuan",e,t)}getPengajuanPK(e,a){var t={headers:{"x-access-token":a}};return n["a"].post("transaksi/getpengajuanpk",e,t)}getListPengajuan(e,a){var t={headers:{"x-access-token":a}};return n["a"].post("transaksi/listpengajaun",e,t)}validasiPengajuan(e,a){var t={headers:{"x-access-token":a}};return n["a"].post("transaksi/validasipengajuan",e,t)}getListPengajuanPK(e,a){var t={headers:{"x-access-token":a}};return n["a"].post("transaksi/listpengajaunpk",e,t)}inputPengajuanPK(e,a){var t={headers:{"x-access-token":a}};return n["a"].post("pengajuan/inspengajuanpk",e,t)}validasiPengajuanPK(e,a){var t={headers:{"x-access-token":a}};return n["a"].post("transaksi/validasipengajuanpk",e,t)}listRetur(e,a){var t={headers:{"x-access-token":a}};return n["a"].post("transaksi/listretur",e,t)}inputRetur(e,a){var t={headers:{"x-access-token":a}};return n["a"].post("transaksi/retur",e,t)}inputReturPK(e,a){var t={headers:{"x-access-token":a}};return n["a"].post("transaksi/returpk",e,t)}inputRealisasi(e,a){var t={headers:{"x-access-token":a}};return n["a"].post("transaksi/realisasi",e,t)}getPengajuanRealisasi(e,a){var t={headers:{"x-access-token":a}};return n["a"].post("pengajuan/getidpengajuan",e,t)}getListPengajuanPB(e,a){var t={headers:{"x-access-token":a}};return n["a"].post("pengajuan/getidpengajuan",e,t)}inputPengajuanPB(e,a){var t={headers:{"x-access-token":a}};return n["a"].post("pengajuan/inspengajuanpb",e,t)}listRealisasi(e,a){var t={headers:{"x-access-token":a}};return n["a"].post("transaksi/listrealisasi",e,t)}listTopUp(e,a){var t={headers:{"x-access-token":a}};return n["a"].post("transaksi/listopupanggaran",e,t)}inputTopUp(e,a){var t={headers:{"x-access-token":a}};return n["a"].post("transaksi/topupanggaran",e,t)}validasiTopUp(e,a){var t={headers:{"x-access-token":a}};return n["a"].post("transaksi/validasitopup",e,t)}ListSwitchAnggaran(e,a){var t={headers:{"x-access-token":a}};return n["a"].post("transaksi/listswitchanggaran",e,t)}inputSwitchAnggaran(e,a){var t={headers:{"x-access-token":a}};return n["a"].post("transaksi/switchanggaran",e,t)}validasiSwitchAnggaran(e,a){var t={headers:{"x-access-token":a}};return n["a"].post("transaksi/validasiswitchanggaran",e,t)}listPengajuanForRealisasi(e,a){var t={headers:{"x-access-token":a}};return n["a"].post("transaksi/getpengajuan",e,t)}validasiRealisasi(e,a){var t={headers:{"x-access-token":a}};return n["a"].post("transaksi/validasirealisasi",e,t)}uploadFileRealisasi(e,a){var t={headers:{"x-access-token":a}};return n["a"].post("upload/realisasi",e,t)}listFileRealisasi(e,a){var t={headers:{"x-access-token":a}};return n["a"].post("upload/listfilerealisasi",e,t)}}a["a"]=new r},1465:function(e,a,t){},c416:function(e,a,t){"use strict";var n=t("7ba7");class r{getDataSubMataAnggaran(e,a){var t={headers:{"x-access-token":a}};return n["a"].post("referensi/getsubmatanggaran",e,t)}tambahDataSubMataAnggaran(e,a){var t={headers:{"x-access-token":a}};return n["a"].post("referensi/inssubmatanggaran",e,t)}updateSubMataAnggaran(e,a){var t={headers:{"x-access-token":a}};return n["a"].post("referensi/updatesubmatanggaran",e,t)}deleteSubMataAnggaran(e,a){var t={headers:{"x-access-token":a}};return n["a"].post("referensi/delsubmatanggaran",e,t)}ubahStatus(e,a){var t={headers:{"x-access-token":a}};return n["a"].post("referensi/updatestatusubmatanggaran",e,t)}}a["a"]=new r},d8c0:function(e,a,t){"use strict";t.r(a);var n=t("7a23");const r={class:"row"},s={class:"col-12"},i={class:"card"},o={class:"card-body"},l=Object(n["createElementVNode"])("h3",{style:{"font-weight":"500"}},"Pencarian",-1),c=Object(n["createElementVNode"])("hr",null,null,-1),d={class:"grid grid-cols-1 gap-2"},g={class:""},u=Object(n["createElementVNode"])("label",{class:"block mb-2 text-base font-medium text-gray-900 dark:text-white"}," Sub Mata Anggaran ",-1),b=Object(n["createElementVNode"])("option",{value:""},"-- Pilih Pengajuan Biaya --",-1),m=["value"],p={class:"row mt-3"},h={class:"col-12"},k={class:"card"},j={class:"card-body"},x={class:"d-flex justify-content-end"},v={class:"p-input-icon-left"},O=Object(n["createElementVNode"])("i",{class:"fa fa-search","aria-hidden":"true"},null,-1),f={key:0,class:"label-Retur"},w={style:{"font-weight":"600"}},y={style:{"font-weight":"600"}},N={style:{"font-weight":"600"}},V=["onClick"],E=Object(n["createElementVNode"])("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 -960 960 960",width:"24"},[Object(n["createElementVNode"])("path",{d:"M480-333.847 626.153-480 584-522.153l-74.001 72.001v-176.001h-59.998v176.001L376-522.153 333.847-480 480-333.847ZM212.309-140.001q-29.923 0-51.115-21.193-21.193-21.192-21.193-51.115v-535.382q0-29.923 21.193-51.115 21.192-21.193 51.115-21.193h178q3.769-33.307 29.076-56.653 25.308-23.347 60.615-23.347 35.692 0 60.999 23.347 25.308 23.346 28.692 56.653h178q29.923 0 51.115 21.193 21.193 21.192 21.193 51.115v535.382q0 29.923-21.193 51.115-21.192 21.193-51.115 21.193H212.309Zm0-59.999h535.382q4.616 0 8.463-3.846 3.846-3.847 3.846-8.463v-535.382q0-4.616-3.846-8.463-3.847-3.846-8.463-3.846H212.309q-4.616 0-8.463 3.846-3.846 3.847-3.846 8.463v535.382q0 4.616 3.846 8.463 3.847 3.846 8.463 3.846ZM480-786.154q13 0 21.5-8.5t8.5-21.5q0-13-8.5-21.5t-21.5-8.5q-13 0-21.5 8.5t-8.5 21.5q0 13 8.5 21.5t21.5 8.5ZM200-200V-760-200Z"})],-1),P=[E],_={id:"detail-modal",tabindex:"-1",class:"fixed top-0 left-0 right-0 mb-8 z-50 hidden w-full p-4 overflow-x-hidden overflow-y-auto md:inset-0 h-[calc(100%-1rem)] max-h-full"},S={class:"relative w-full max-w-4xl max-h-full"},F={class:"relative bg-white rounded-lg shadow dark:bg-gray-700"},D={class:"flex items-center justify-between p-3 border-b rounded-t dark:border-gray-600 bg-bni-orange"},B=Object(n["createElementVNode"])("h3",{class:"text-xl font-medium",style:{color:"#fff"}}," Pengajuan Biaya ",-1),C=Object(n["createElementVNode"])("svg",{class:"w-3 h-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14"},[Object(n["createElementVNode"])("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})],-1),M=Object(n["createElementVNode"])("span",{class:"sr-only"},"Close modal",-1),T=[C,M],A={class:"p-6 space-y-2"},K={class:""},R=Object(n["createElementVNode"])("label",{class:"block mb-2 text-base font-medium text-gray-900 dark:text-white"}," Alasan ",-1),L={class:""},q=Object(n["createElementVNode"])("label",{class:"block mb-2 text-base font-medium text-gray-900 dark:text-white"},[Object(n["createTextVNode"])(" Jenis Pengajuan "),Object(n["createElementVNode"])("span",{class:"text-red-600"},"*")],-1),I=Object(n["createElementVNode"])("option",{value:""},"-- Pilih Jenis Pengajuan --",-1),U=Object(n["createElementVNode"])("option",{value:"PBI"},"Pengajuan Biasa",-1),$=Object(n["createElementVNode"])("option",{value:"PK"},"Pengajuan Komitmen",-1),J=Object(n["createElementVNode"])("option",{value:"PB"},"Pengajuan Baru",-1),Z=[I,U,$,J],z={key:0,class:"mt-2 text-sm text-red-600 dark:text-red-500 m-0"},H={class:""},G=Object(n["createElementVNode"])("label",{class:"block mb-2 text-base font-medium text-gray-900 dark:text-white"},[Object(n["createTextVNode"])(" Kegiatan "),Object(n["createElementVNode"])("span",{class:"text-red-600"},"*")],-1),Q=["disabled"],W=Object(n["createElementVNode"])("option",{value:""},"-- Pilih Kegiatan --",-1),X=["value"],Y={key:0,class:"mt-2 text-sm text-red-600 dark:text-red-500 m-0"},ee={class:""},ae=Object(n["createElementVNode"])("label",{class:"block mb-2 text-base font-medium text-gray-900 dark:text-white"},[Object(n["createTextVNode"])(" Uraian Kegiatan "),Object(n["createElementVNode"])("span",{class:"text-red-600"},"*")],-1),te={key:0,class:"mt-2 text-sm text-red-600 dark:text-red-500 m-0"},ne={class:""},re=Object(n["createElementVNode"])("label",{class:"block mb-2 text-base font-medium text-gray-900 dark:text-white"}," Sisa Anggaran ",-1),se={class:""},ie=Object(n["createElementVNode"])("label",{class:"block mb-2 text-base font-medium text-gray-900 dark:text-white"},[Object(n["createTextVNode"])(" Nominal Pengajuan biaya"),Object(n["createElementVNode"])("span",{class:"text-red-600"},"*")],-1),oe={key:0,class:"mt-2 text-sm text-red-600 dark:text-red-500 m-0"},le={class:"flex items-center justify-center p-6 space-x-2 border-t border-gray-200 rounded-b dark:border-gray-600"};function ce(e,a,t,E,C,M){const I=Object(n["resolveComponent"])("InputText"),U=Object(n["resolveComponent"])("Column"),$=Object(n["resolveComponent"])("DataTable"),J=Object(n["resolveComponent"])("InputNumber");return Object(n["openBlock"])(),Object(n["createElementBlock"])(n["Fragment"],null,[Object(n["createElementVNode"])("div",r,[Object(n["createElementVNode"])("div",s,[Object(n["createElementVNode"])("div",i,[Object(n["createElementVNode"])("div",o,[l,c,Object(n["createElementVNode"])("div",d,[Object(n["createElementVNode"])("div",g,[u,Object(n["withDirectives"])(Object(n["createElementVNode"])("select",{"onUpdate:modelValue":a[0]||(a[0]=e=>C.filters.kdsubmatanggaran=e),class:"bg-gray-50 border border-gray-300 text-gray-900 text-base rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"},[b,(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(M.getSMataAnggaran,(e,a)=>(Object(n["openBlock"])(),Object(n["createElementBlock"])("option",{key:a,value:e.kode_sub_mata_anggaran},Object(n["toDisplayString"])(e.nama_sub_mata_anggaran),9,m))),128))],512),[[n["vModelSelect"],C.filters.kdsubmatanggaran]])])]),Object(n["createElementVNode"])("button",{class:"btn w-full mt-3",style:{"border-radius":"6px",background:"#006699",color:"#ffff",height:"48px","padding-top":"11px","padding-bottom":"11px"},onClick:a[1]||(a[1]=(...e)=>M.cariData&&M.cariData(...e))}," Tampilkan ")])])])]),Object(n["createElementVNode"])("div",p,[Object(n["createElementVNode"])("div",h,[Object(n["createElementVNode"])("div",k,[Object(n["createElementVNode"])("div",j,[Object(n["createVNode"])($,{value:M.getAllData,lazy:"",paginator:"",totalRecords:C.pagination.totaldata,rows:C.pagination.perPage,rowsPerPageOptions:[5,10,20,50],paginatorTemplate:"RowsPerPageDropdown FirstPageLink PrevPageLink CurrentPageReport NextPageLink LastPageLink",currentPageReportTemplate:"{first} to {last} of {totalRecords}",tableStyle:"min-width: 50rem",filters:C.filters,"onUpdate:filters":a[3]||(a[3]=e=>C.filters=e),loading:C.loading,onPage:a[4]||(a[4]=e=>M.paginationTable(e))},{header:Object(n["withCtx"])(()=>[Object(n["createElementVNode"])("div",x,[Object(n["createElementVNode"])("span",v,[O,Object(n["createVNode"])(I,{modelValue:C.filters.cari,"onUpdate:modelValue":a[2]||(a[2]=e=>C.filters.cari=e),onInput:M.cariData,placeholder:"Search"},null,8,["modelValue","onInput"])])])]),empty:Object(n["withCtx"])(()=>[Object(n["createTextVNode"])(" No Data found. ")]),loading:Object(n["withCtx"])(()=>[Object(n["createTextVNode"])(" Loading data. Please wait. ")]),default:Object(n["withCtx"])(()=>[Object(n["createVNode"])(U,{field:"",header:"Status",style:{"min-width":"120px !important"}},{body:Object(n["withCtx"])(({data:e})=>[2==e.status_pengajuan?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",f," Retur ")):Object(n["createCommentVNode"])("",!0)]),_:1}),Object(n["createVNode"])(U,{field:"nama_sub_mata_anggaran",header:"Sub Mata Anggaran",style:{"min-width":"200px !important"}},{body:Object(n["withCtx"])(({data:e})=>[Object(n["createElementVNode"])("div",w,Object(n["toDisplayString"])(e.nama_sub_mata_anggaran),1)]),_:1}),Object(n["createVNode"])(U,{field:"uraian_kegiatan",header:"Uraian Kegiatan",style:{"min-width":"200px !important"}},{body:Object(n["withCtx"])(({data:e})=>[Object(n["createElementVNode"])("div",y,Object(n["toDisplayString"])(e.uraian_kegiatan),1)]),_:1}),Object(n["createVNode"])(U,{field:"",header:"Tahun"},{body:Object(n["withCtx"])(({data:e})=>[Object(n["createTextVNode"])(Object(n["toDisplayString"])(e.tahun),1)]),_:1}),Object(n["createVNode"])(U,{field:"",header:"Nominal Pengajuan",class:"text-right",style:{"min-width":"180px !important"}},{body:Object(n["withCtx"])(({data:e})=>[Object(n["createTextVNode"])(Object(n["toDisplayString"])(e.nominal_pengajuan.toLocaleString("de-DE")),1)]),_:1}),Object(n["createVNode"])(U,{field:"",header:"Nominal Anggaran",class:"text-right",style:{"min-width":"180px !important"}},{body:Object(n["withCtx"])(({data:e})=>[Object(n["createTextVNode"])(Object(n["toDisplayString"])(e.nominal.toLocaleString("de-DE")),1)]),_:1}),Object(n["createVNode"])(U,{field:"",header:""},{body:Object(n["withCtx"])(({data:e})=>[Object(n["createElementVNode"])("div",N,[Object(n["createElementVNode"])("button",{class:"bg-transparent border-0",title:"DETAIL",onClick:a=>M.showDetail(e)},P,8,V)])]),_:1})]),_:1},8,["value","totalRecords","rows","filters","loading"])])])])]),Object(n["createElementVNode"])("div",_,[Object(n["createElementVNode"])("div",S,[Object(n["createElementVNode"])("div",F,[Object(n["createElementVNode"])("div",D,[B,Object(n["createElementVNode"])("button",{type:"button",class:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ml-auto inline-flex justify-center items-center dark:hover:bg-gray-600 dark:hover:text-white",onClick:a[5]||(a[5]=(...e)=>M.hideModal&&M.hideModal(...e))},T)]),Object(n["createElementVNode"])("div",A,[Object(n["createElementVNode"])("div",K,[R,Object(n["createTextVNode"])(" "+Object(n["toDisplayString"])(C.Detail.alasan),1)]),Object(n["createElementVNode"])("div",L,[q,Object(n["withDirectives"])(Object(n["createElementVNode"])("select",{"onUpdate:modelValue":a[6]||(a[6]=e=>C.Form.jnspengajuan=e),class:"border border-gray-300 text-gray-900 text-base rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"},Z,512),[[n["vModelSelect"],C.Form.jnspengajuan]]),this.v$.Form.jnspengajuan.$error?(Object(n["openBlock"])(),Object(n["createElementBlock"])("p",z," Jenis Pengajuan tidak boleh kosong! ")):Object(n["createCommentVNode"])("",!0)]),Object(n["createElementVNode"])("div",H,[G,Object(n["withDirectives"])(Object(n["createElementVNode"])("select",{"onUpdate:modelValue":a[7]||(a[7]=e=>C.Form.id_kegiatan=e),onChange:a[8]||(a[8]=(...e)=>M.setPreview&&M.setPreview(...e)),disabled:""==C.Form.jnspengajuan,class:"border border-gray-300 text-gray-900 text-base rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"},[W,(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(M.getKegiatan,(e,a)=>(Object(n["openBlock"])(),Object(n["createElementBlock"])("option",{key:a,value:e},Object(n["toDisplayString"])(e.nama_departement+" - "+e.nama_sub_mata_anggaran+" - "+e.nominal.toLocaleString("de-DE")),9,X))),128))],40,Q),[[n["vModelSelect"],C.Form.id_kegiatan]]),this.v$.Form.id_kegiatan.$error?(Object(n["openBlock"])(),Object(n["createElementBlock"])("p",Y," Kegiatan tidak boleh kosong! ")):Object(n["createCommentVNode"])("",!0)]),Object(n["createElementVNode"])("div",ee,[ae,Object(n["withDirectives"])(Object(n["createElementVNode"])("textarea",{"onUpdate:modelValue":a[9]||(a[9]=e=>C.Form.uraian_kegiatan=e),cols:"30",rows:"10",class:"border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-bni-blue focus:border-bni-blue block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"},null,512),[[n["vModelText"],C.Form.uraian_kegiatan]]),this.v$.Form.uraian_kegiatan.$error?(Object(n["openBlock"])(),Object(n["createElementBlock"])("p",te," Uraian Kegiatan tidak boleh kosong! ")):Object(n["createCommentVNode"])("",!0)]),Object(n["createElementVNode"])("div",ne,[re,Object(n["createVNode"])(J,{modelValue:C.Form.sisa_nominal,"onUpdate:modelValue":a[10]||(a[10]=e=>C.Form.sisa_nominal=e),placeholder:"Masukkan Sisa anggaran",class:"w-full",disabled:""},null,8,["modelValue"])]),Object(n["createElementVNode"])("div",se,[ie,Object(n["createVNode"])(J,{modelValue:C.Form.nominal,"onUpdate:modelValue":a[11]||(a[11]=e=>C.Form.nominal=e),placeholder:"Masukkan Nominal",class:"w-full",onInput:M.validationNominal},null,8,["modelValue","onInput"]),this.v$.Form.nominal.$error?(Object(n["openBlock"])(),Object(n["createElementBlock"])("p",oe," Nominal tidak boleh kosong! ")):Object(n["createCommentVNode"])("",!0)])]),Object(n["createElementVNode"])("div",le,[Object(n["createElementVNode"])("button",{type:"button",onClick:a[12]||(a[12]=(...e)=>M.prosesInput&&M.prosesInput(...e)),class:"bg-bni-blue text-white focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-base px-5 py-2.5 text-center"}," SIMPAN "),Object(n["createElementVNode"])("button",{onClick:a[13]||(a[13]=(...e)=>M.hideModal&&M.hideModal(...e)),type:"button",class:"text-gray-500 bg-white hover:bg-gray-100 focus:ring-4 focus:outline-none focus:ring-gray-200 rounded-lg border border-gray-200 text-sm font-medium px-5 py-2.5 hover:text-gray-900 focus:z-10 dark:bg-gray-700 dark:text-gray-300 dark:border-gray-500 dark:hover:text-white dark:hover:bg-gray-600 dark:focus:ring-gray-600"}," TUTUP ")])])])])],64)}t("b7ef");var de=t("3822"),ge=t("5b2c"),ue=t("6f85"),be=t("8398"),me=t("8d31"),pe=t("c3b3"),he=t("b9fb"),ke=(t("1465"),t("0ba9")),je=t("c416"),xe={name:"Pengajuan Komitmen",data(){return{v$:Object(pe["a"])(),token:sessionStorage.getItem("token"),modal:null,listPengajuanRetur:null,rowSMataAnggaran:null,rowDepartemen:null,rowAnggaran:null,rowKegiatan:null,filters:{kdsubmatanggaran:"",cari:"",status:""},pagination:{perPage:5,currentPage:1,totaldata:0},Form:{id_anggaran:"",jnspengajuan:"",nominal:"",userid:"",id_kegiatan:"",uraian_kegiatan:"",sisa_nominal:"",id:""},Detail:{alasan:""},loading:!0,userSession:JSON.parse(atob(sessionStorage.getItem("dataUser")))}},validations(){return{Form:{id_anggaran:{required:he["d"]},jnspengajuan:{required:he["d"]},nominal:{required:he["d"]},userid:{required:he["d"]},id_kegiatan:{required:he["d"]},uraian_kegiatan:{required:he["d"]},sisa_nominal:{required:he["d"]}}}},components:{DataTable:ge["a"],Column:ue["a"],InputText:be["a"],InputNumber:de["a"]},computed:{getAllData(){return this.listPengajuanRetur},getSMataAnggaran(){return this.rowSMataAnggaran},getKegiatan(){if(""==this.Form.id_kegiatan)return this.rowKegiatan;{let e=Object.entries(this.rowKegiatan);return e.filter(e=>{console.log(e[1].id),e[1].id==this.Form.id_kegiatan&&(this.Form.id_kegiatan=[],this.Form.id_kegiatan=e[1])}),this.rowKegiatan}}},methods:{async getRowKegiatan(){let e={idkegiatan:"",status:1,kddepartemen:this.userSession.departemen};try{let a=await ke["a"].getKegiatan(e,this.token);this.rowKegiatan=a.data.data}catch(a){this.rowKegiatan=null,console.log(a)}},validationNominal(e){e.value>this.Form.sisa_nominal&&this.$swal({icon:"info",title:"INFO",text:"Nominal tidak boleh lebih dari sisa anggaran",confirmButtonColor:"#e77817"})},setPreview(){this.Form.sisa_nominal=this.Form.id_kegiatan.nominal,this.Form.nominal=this.Form.id_kegiatan.nominal},cariData(){this.refreshListTable(1)},filterShow(){this.pagination.currentPage=1,this.refreshListTable()},paginationTable(e){this.pagination.perPage=e.rows,this.pagination.currentPage==e.page?this.pagination.currentPage++:this.pagination.currentPage-e.page==1?this.pagination.currentPage--:this.pagination.currentPage=e.page+1,this.refreshListTable()},async getSubMataAnggaran(){let e={};try{let a=await je["a"].getDataSubMataAnggaran(e,this.token);this.rowSMataAnggaran=a.data.data}catch(a){this.rowSMataAnggaran=null,console.log(a)}},showDetail(e){this.Form={id_anggaran:e.id_anggaran,jnspengajuan:e.jenis_pengajuan,nominal:e.nominal_pengajuan,userid:this.userSession.username,id_kegiatan:e.id_kegiatan,uraian_kegiatan:e.uraian_kegiatan,sisa_nominal:e.sisanominal_pengajuan,id:e.id},this.Detail={alasan:e.alasan};const a=document.getElementById("detail-modal");this.modal=new me["a"](a),this.modal.show()},async getData(){this.loading=!0;let e={kdsubmatanggaran:this.filters.kdsubmatanggaran,kddepartemen:this.userSession.departemen,perPage:this.pagination.perPage,currentPage:this.pagination.currentPage,cari:this.filters.cari};try{let a=await ke["a"].listRetur(e,this.token);this.pagination.totaldata=a.data.data.total_data,this.listPengajuanRetur=a.data.data.data,this.loading=!1}catch(a){this.listPengajuanRetur=null,this.loading=!1,console.log(a)}},async prosesInput(){let e=this.Form;if(e.nominal>this.Form.sisa_nominal)return this.$swal({icon:"info",title:"INFO",text:"Nominal tidak boleh lebih dari sisa anggaran",confirmButtonColor:"#e77817"});if(e.userid=this.userSession.username,this.v$.$validate(),!this.v$.Form.$error){e.sisa_nominal=Number(this.Form.sisa_nominal)-Number(this.Form.nominal),e.id_anggaran=this.Form.id_kegiatan.id_anggaran.toLocaleString(),e.id_kegiatan=this.Form.id_kegiatan.id.toLocaleString();try{let a=await ke["a"].inputRetur(e,this.token);this.modal.hide(),this.$swal({icon:"success",title:"Berhasil",text:a.data.Msg,confirmButtonColor:"#e77817"}),this.Form={id_anggaran:"",jnspengajuan:"",nominal:"",userid:"",id_kegiatan:"",uraian_kegiatan:"",sisa_nominal:"",id:""},this.refreshListTable()}catch(a){console.log(a),this.$swal({icon:"error",title:"Gagal",text:a.response.data.Msg,confirmButtonColor:"#e77817"})}}},hideModal(){this.modal.hide()},refreshListTable(e=0){0!=e&&(this.pagination.currentPage=1),this.getData()}},mounted(){Object(me["b"])(),this.getData(),this.getSubMataAnggaran(),this.getRowKegiatan()}},ve=t("6b0d"),Oe=t.n(ve);const fe=Oe()(xe,[["render",ce]]);a["default"]=fe}}]);
//# sourceMappingURL=chunk-36044199.f8ce5798.js.map