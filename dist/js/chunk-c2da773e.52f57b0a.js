(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c2da773e"],{"2e38":function(e,t,a){var i=a("24fb");t=i(!1),t.push([e.i,"",""]),e.exports=t},"51ec":function(e,t,a){var i=a("2e38");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var l=a("499e").default;l("243f26fe",i,!0,{sourceMap:!1,shadowMode:!1})},"54d4":function(e,t,a){"use strict";a("51ec")},"855c":function(e,t,a){"use strict";a.r(t);var i=a("7a23");const l={class:"row"},n={class:"col-12"},s={class:"card"},o={class:"card-body"},r=Object(i["createElementVNode"])("h3",{style:{"font-weight":"500"}},"Pencarian",-1),c=Object(i["createElementVNode"])("hr",null,null,-1),d={class:"grid grid-cols-1 gap-2"},b={class:""},m=Object(i["createElementVNode"])("label",{class:"block mb-2 text-base font-medium text-gray-900 dark:text-white"}," Pengajuan Biaya ",-1),u=Object(i["createElementVNode"])("option",{value:""},"-- Pilih Jenis Pengajuan --",-1),g=Object(i["createElementVNode"])("option",{value:"PBI"},"Beban Reguler",-1),p=Object(i["createElementVNode"])("option",{value:"PK"},"Beban Komitmen",-1),j=[u,g,p],h={class:"row mt-3"},k={class:"col-12"},O={class:"card"},v={class:"card-body"},f={class:"d-flex justify-content-end"},w={class:"p-input-icon-left"},y=Object(i["createElementVNode"])("i",{class:"fa fa-search","aria-hidden":"true"},null,-1),V={key:0,class:"label-nonAktif"},_={key:1,class:"label-nonAktif"},x={key:2,class:"label-Aktif"},N={style:{"font-weight":"600"}},E={style:{"font-weight":"600"}},P={class:"text-base"},B={style:{"font-weight":"600"}},F=["title","onClick"],R={key:0},D=Object(i["createElementVNode"])("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 -960 960 960",width:"24"},[Object(i["createElementVNode"])("path",{d:"M480.091-336.924q67.985 0 115.485-47.59 47.5-47.591 47.5-115.577 0-67.985-47.59-115.485-47.591-47.5-115.577-47.5-67.985 0-115.485 47.59-47.5 47.591-47.5 115.577 0 67.985 47.59 115.485 47.591 47.5 115.577 47.5ZM480-392q-45 0-76.5-31.5T372-500q0-45 31.5-76.5T480-608q45 0 76.5 31.5T588-500q0 45-31.5 76.5T480-392Zm.055 171.999q-137.977 0-251.439-76.115Q115.155-372.231 61.54-500q53.615-127.769 167.022-203.884 113.406-76.115 251.383-76.115t251.439 76.115Q844.845-627.769 898.46-500q-53.615 127.769-167.022 203.884-113.406 76.115-251.383 76.115ZM480-500Zm0 220q113 0 207.5-59.5T832-500q-50-101-144.5-160.5T480-720q-113 0-207.5 59.5T128-500q50 101 144.5 160.5T480-280Z"})],-1),S=[D],T={key:1},C=Object(i["createElementVNode"])("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 -960 960 960",width:"24"},[Object(i["createElementVNode"])("path",{d:"M160-160q-33 0-56.5-23.5T80-240v-120h80v120h640v-480H160v120H80v-120q0-33 23.5-56.5T160-800h640q33 0 56.5 23.5T880-720v480q0 33-23.5 56.5T800-160H160Zm300-140-56-58 83-82H80v-80h407l-83-82 56-58 180 180-180 180Z"})],-1),M=[C],U={id:"detail-modal",tabindex:"-1",class:"fixed top-0 left-0 right-0 mb-8 z-50 hidden w-full p-4 overflow-x-hidden overflow-y-auto md:inset-0 h-[calc(100%-1rem)] max-h-full"},q={class:"relative w-full max-w-4xl max-h-full"},L={class:"relative bg-white rounded-lg shadow dark:bg-gray-700"},K={class:"flex items-center justify-between p-3 border-b rounded-t dark:border-gray-600 bg-bni-orange"},I=Object(i["createElementVNode"])("h3",{class:"text-xl font-medium",style:{color:"#fff"}}," Detail Realisasi ",-1),A=Object(i["createElementVNode"])("svg",{class:"w-3 h-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14"},[Object(i["createElementVNode"])("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})],-1),$=Object(i["createElementVNode"])("span",{class:"sr-only"},"Close modal",-1),Z=[A,$],H={class:"p-6"},z={class:"grid grid-cols-2 gap-2 mb-2"},J={class:""},G={class:"mb-1"},Q=Object(i["createElementVNode"])("p",{class:"text-lg font-semibold mb-0"},"Entitas",-1),Y={class:"text-base"},W={class:"mb-1"},X=Object(i["createElementVNode"])("p",{class:"text-lg font-semibold mb-0"},"Sub Mata Anggaran",-1),ee={class:"text-base"},te={class:"mb-1"},ae=Object(i["createElementVNode"])("p",{class:"text-lg font-semibold mb-0"},"Jenis Pengajuan",-1),ie={class:"text-base"},le={class:"mb-1"},ne=Object(i["createElementVNode"])("p",{class:"text-lg font-semibold mb-0"},"Nama Kegiatan",-1),se={class:"text-base"},oe={class:"mb-1"},re=Object(i["createElementVNode"])("p",{class:"text-lg font-semibold mb-0"},"Uraian Kegiatan",-1),ce={class:"text-base"},de={class:""},be={class:"mb-1"},me=Object(i["createElementVNode"])("p",{class:"text-lg font-semibold mb-0"},"Departemen",-1),ue={class:"text-base"},ge={class:"mb-1"},pe=Object(i["createElementVNode"])("p",{class:"text-lg font-semibold mb-0"},"Nominal Realisasi",-1),je={class:"text-base"},he={class:"mb-1"},ke=Object(i["createElementVNode"])("p",{class:"text-lg font-semibold mb-0"},"Status",-1),Oe={key:0,class:"label-nonAktif"},ve={key:1,class:"label-Aktif"},fe={key:2,class:"label-Aktif"},we={key:0,class:"mb-1"},ye=Object(i["createElementVNode"])("p",{class:"text-lg font-semibold mb-0"},[Object(i["createTextVNode"])(" Kode Voucher "),Object(i["createElementVNode"])("span",{class:"text-red-600"},"*")],-1),Ve={key:0,class:"mt-2 text-sm text-red-600 dark:text-red-500 m-0"},_e={key:1,class:"mb-"},xe=Object(i["createElementVNode"])("p",{class:"text-lg font-semibold mb-0"},"Kode Voucher",-1),Ne={class:"text-base"},Ee={key:2,class:"mb-1"},Pe=Object(i["createElementVNode"])("p",{class:"text-lg font-semibold mb-0"},[Object(i["createTextVNode"])(" Tanggal Realisasi "),Object(i["createElementVNode"])("span",{class:"text-red-600"},"*")],-1),Be={key:0,class:"mt-2 text-sm text-red-600 dark:text-red-500 m-0"},Fe={key:3,class:"mb-1"},Re=Object(i["createElementVNode"])("p",{class:"text-lg font-semibold mb-0"},"Tanggal Realisasi",-1),De={class:"text-base"},Se=Object(i["createElementVNode"])("hr",{class:"bg-gray-400"},null,-1),Te={class:"row"},Ce={class:"col-12"},Me=Object(i["createElementVNode"])("label",{class:"block mb-2 text-base font-medium text-gray-900 dark:text-white"}," Jenis Dokumen ",-1),Ue=Object(i["createElementVNode"])("option",{value:""},"-- Pilih Jenis Dokumen --",-1),qe={value:"5"},Le={class:"col-12 pt-8"},Ke={class:"col-12 pt-6"},Ie=Object(i["createElementVNode"])("label",{class:"block mb-2 text-lg font-medium text-gray-900 dark:text-white"}," List File ",-1),Ae=["value"],$e={class:"col-8 flex"},Ze={xmlns:"http://www.w3.org/2000/svg",height:"64",viewBox:"0 -960 960 960",width:"64",style:{fill:"#006699"}},He=Object(i["createElementVNode"])("path",{d:"M252.309-100.001q-30.308 0-51.308-21t-21-51.308v-615.382q0-30.308 21-51.308t51.308-21h317.692l209.998 209.998v477.692q0 30.308-21 51.308t-51.308 21H252.309Zm287.692-520V-800H252.309q-4.616 0-8.463 3.846-3.846 3.847-3.846 8.463v615.382q0 4.616 3.846 8.463 3.847 3.846 8.463 3.846h455.382q4.616 0 8.463-3.846 3.846-3.847 3.846-8.463v-447.692H540.001ZM240-800v179.999V-800v640V-800Z"},null,-1),ze=[He],Je={class:"text-base m-0 pt-3"},Ge={class:"col-4"},Qe=["onClick"],Ye={class:"flex items-center justify-center p-6 space-x-2 border-t border-gray-200 rounded-b dark:border-gray-600"};function We(e,t,a,u,g,p){const D=Object(i["resolveComponent"])("InputText"),C=Object(i["resolveComponent"])("Column"),A=Object(i["resolveComponent"])("DataTable"),$=Object(i["resolveComponent"])("VueDatePicker"),He=Object(i["resolveComponent"])("FileUpload");return Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],null,[Object(i["createElementVNode"])("div",l,[Object(i["createElementVNode"])("div",n,[Object(i["createElementVNode"])("div",s,[Object(i["createElementVNode"])("div",o,[r,c,Object(i["createElementVNode"])("div",d,[Object(i["createElementVNode"])("div",b,[m,Object(i["withDirectives"])(Object(i["createElementVNode"])("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>g.filters.jenis_pengajuan=e),class:"bg-gray-50 border border-gray-300 text-gray-900 text-base rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"},j,512),[[i["vModelSelect"],g.filters.jenis_pengajuan]])])]),Object(i["createElementVNode"])("button",{class:"btn w-full mt-3",style:{"border-radius":"6px",background:"#006699",color:"#ffff",height:"48px","padding-top":"11px","padding-bottom":"11px"},onClick:t[1]||(t[1]=(...e)=>p.cariData&&p.cariData(...e))}," Tampilkan ")])])])]),Object(i["createElementVNode"])("div",h,[Object(i["createElementVNode"])("div",k,[Object(i["createElementVNode"])("div",O,[Object(i["createElementVNode"])("div",v,[Object(i["createVNode"])(A,{value:p.getAllData,lazy:"",paginator:"",totalRecords:g.pagination.totaldata,rows:g.pagination.perPage,rowsPerPageOptions:[5,10,20,50],paginatorTemplate:"RowsPerPageDropdown FirstPageLink PrevPageLink CurrentPageReport NextPageLink LastPageLink",currentPageReportTemplate:"{first} to {last} of {totalRecords}",tableStyle:"min-width: 50rem",filters:g.filters,"onUpdate:filters":t[3]||(t[3]=e=>g.filters=e),loading:g.loading,onPage:t[4]||(t[4]=e=>p.paginationTable(e))},{header:Object(i["withCtx"])(()=>[Object(i["createElementVNode"])("div",f,[Object(i["createElementVNode"])("span",w,[y,Object(i["createVNode"])(D,{modelValue:g.filters.cari,"onUpdate:modelValue":t[2]||(t[2]=e=>g.filters.cari=e),onInput:p.cariData,placeholder:"Search"},null,8,["modelValue","onInput"])])])]),empty:Object(i["withCtx"])(()=>[Object(i["createTextVNode"])(" No Data found. ")]),loading:Object(i["withCtx"])(()=>[Object(i["createTextVNode"])(" Loading data. Please wait. ")]),default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(C,{field:"",header:"Status",style:{"min-width":"180px !important"}},{body:Object(i["withCtx"])(({data:e})=>[0==e.status_realisasi?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",V," Request By Officer ")):1==e.status_realisasi?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",_," Request By Departemen Head ")):2==e.status_realisasi?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",x," Validate By BUM ")):Object(i["createCommentVNode"])("",!0)]),_:1}),Object(i["createVNode"])(C,{field:"uraian_kegiatan",header:"Kegiatan",style:{"min-width":"200px !important"}},{body:Object(i["withCtx"])(({data:e})=>[Object(i["createElementVNode"])("div",N,Object(i["toDisplayString"])(e.uraian_kegiatan),1)]),_:1}),Object(i["createVNode"])(C,{field:"nama_sub_mata_anggaran",header:"Sub Mata Anggaran",style:{"min-width":"200px !important"}},{body:Object(i["withCtx"])(({data:e})=>[Object(i["createElementVNode"])("div",null,Object(i["toDisplayString"])(e.nama_sub_mata_anggaran),1)]),_:1}),Object(i["createVNode"])(C,{field:"kode_pengajuan",header:"Kode Pengajuan",style:{"min-width":"200px !important"}},{body:Object(i["withCtx"])(({data:e})=>[Object(i["createElementVNode"])("div",E,Object(i["toDisplayString"])(e.kode_pengajuan),1)]),_:1}),Object(i["createVNode"])(C,{field:"nominal",header:"Nominal",style:{"min-width":"180px !important"}},{body:Object(i["withCtx"])(({data:e})=>[Object(i["createElementVNode"])("div",null,Object(i["toDisplayString"])(e.nominal.toLocaleString("de-DE")),1)]),_:1}),Object(i["createVNode"])(C,{field:"tanggal_pengajuan",header:"Tanggal Pengajuan",style:{"min-width":"180px !important"}},{body:Object(i["withCtx"])(({data:e})=>[Object(i["createElementVNode"])("div",null,Object(i["toDisplayString"])(e.tanggal_pengajuan.split("T")[0].split("-")[0]+"-"+e.tanggal_pengajuan.split("T")[0].split("-")[1]+"-"+e.tanggal_pengajuan.split("T")[0].split("-")[2]),1)]),_:1}),Object(i["createVNode"])(C,{field:"",header:"Jenis Pengajuan",style:{"min-width":"160px !important"}},{body:Object(i["withCtx"])(({data:e})=>[Object(i["createElementVNode"])("div",null,[Object(i["createElementVNode"])("p",P,Object(i["toDisplayString"])("PBI"==e.jenis_pengajuan?"Beban Reguler":"PB"==e.jenis_pengajuan?"Pengajuan Baru":"PK"==e.jenis_pengajuan?"Beban Komitmen":""),1)])]),_:1}),Object(i["createVNode"])(C,{field:"",header:"Task"},{body:Object(i["withCtx"])(({data:e})=>[Object(i["createElementVNode"])("div",B,[Object(i["withDirectives"])(Object(i["createElementVNode"])("button",{class:"bg-transparent border-0",title:""==e.kode_buku?"Entry Realisasi":"Detail Realisasi",onClick:t=>p.detailView(e)},[""!=e.kode_buku?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",R,S)):(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",T,M))],8,F),[[i["vShow"],1==e.status_validasi]])])]),_:1})]),_:1},8,["value","totalRecords","rows","filters","loading"])])])])]),Object(i["createElementVNode"])("div",U,[Object(i["createElementVNode"])("div",q,[Object(i["createElementVNode"])("div",L,[Object(i["createElementVNode"])("div",K,[I,Object(i["createElementVNode"])("button",{type:"button",class:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ml-auto inline-flex justify-center items-center dark:hover:bg-gray-600 dark:hover:text-white",onClick:t[5]||(t[5]=(...e)=>p.hideModal&&p.hideModal(...e))},Z)]),Object(i["createElementVNode"])("div",H,[Object(i["createElementVNode"])("div",z,[Object(i["createElementVNode"])("div",J,[Object(i["createElementVNode"])("div",G,[Q,Object(i["createElementVNode"])("p",Y,Object(i["toDisplayString"])(g.detail.nama_entitas+" - "+g.detail.kode_entitas),1)]),Object(i["createElementVNode"])("div",W,[X,Object(i["createElementVNode"])("p",ee,Object(i["toDisplayString"])(g.detail.nama_sub_mata_anggaran),1)]),Object(i["createElementVNode"])("div",te,[ae,Object(i["createElementVNode"])("p",ie,Object(i["toDisplayString"])("PBI"==g.detail.jenis_pengajuan?"Pengajuan biasa":"PB"==g.detail.jenis_pengajuan?"Pengajuan Baru":"PK"==g.detail.jenis_pengajuan?"Pengajuan Komitmen":""),1)]),Object(i["createElementVNode"])("div",le,[ne,Object(i["createElementVNode"])("p",se,Object(i["toDisplayString"])(g.detail.uraian_kegiatan),1)]),Object(i["createElementVNode"])("div",oe,[re,Object(i["createElementVNode"])("p",ce,Object(i["toDisplayString"])(g.detail.uraian_pengajuan),1)])]),Object(i["createElementVNode"])("div",de,[Object(i["createElementVNode"])("div",be,[me,Object(i["createElementVNode"])("p",ue,Object(i["toDisplayString"])(void 0!=g.detail.nama_departement?g.detail.nama_departement:""),1)]),Object(i["createElementVNode"])("div",ge,[pe,Object(i["createElementVNode"])("p",je,Object(i["toDisplayString"])(void 0!=g.detail.nominal?"Rp "+g.detail.nominal.toLocaleString("de-DE"):""),1)]),Object(i["createElementVNode"])("div",he,[ke,0==g.detail.status_realisasi?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Oe," Request By Officer ")):1==g.detail.status_realisasi?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",ve," Validate By Departemen Head ")):2==g.detail.status_realisasi?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",fe," Validate By BUM ")):Object(i["createCommentVNode"])("",!0)]),""==g.detail.kode_buku?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",we,[ye,Object(i["withDirectives"])(Object(i["createElementVNode"])("input",{"onUpdate:modelValue":t[6]||(t[6]=e=>g.Form.kode_buku=e),placeholder:"Masukkan Kode Voucher",class:"border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-bni-blue focus:border-bni-blue block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",style:{height:"50px"}},null,512),[[i["vModelText"],g.Form.kode_buku]]),this.v$.Form.kode_buku.$error?(Object(i["openBlock"])(),Object(i["createElementBlock"])("p",Ve," Kode buku tidak boleh kosong! ")):Object(i["createCommentVNode"])("",!0)])):(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",_e,[xe,Object(i["createElementVNode"])("p",Ne,Object(i["toDisplayString"])(g.detail.kode_buku),1)])),""==g.detail.kode_buku?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Ee,[Pe,Object(i["createVNode"])($,{placeholder:"Pilih Tanggal",modelValue:g.Form.tanggal_realisasi,"onUpdate:modelValue":t[7]||(t[7]=e=>g.Form.tanggal_realisasi=e),format:"dd/MMMM/yyyy","auto-apply":""},null,8,["modelValue"]),this.v$.Form.tanggal_realisasi.$error?(Object(i["openBlock"])(),Object(i["createElementBlock"])("p",Be," Tanggal Realiasi tidak boleh kosong! ")):Object(i["createCommentVNode"])("",!0)])):(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Fe,[Re,Object(i["createElementVNode"])("p",De,Object(i["toDisplayString"])(void 0!=g.detail.tanggal_realisasi?g.detail.tanggal_realisasi.split("T")[0].split("-")[0]+"-"+g.detail.tanggal_realisasi.split("T")[0].split("-")[1]+"-"+g.detail.tanggal_realisasi.split("T")[0].split("-")[2]:""),1)]))])]),Se,Object(i["createElementVNode"])("div",Te,[Object(i["withDirectives"])(Object(i["createElementVNode"])("div",Ce,[Me,Object(i["withDirectives"])(Object(i["createElementVNode"])("select",{"onUpdate:modelValue":t[8]||(t[8]=e=>g.Upload.jnsdokumen=e),onChange:t[9]||(t[9]=(...e)=>p.cekButtonUpload&&p.cekButtonUpload(...e)),class:"border border-gray-300 text-gray-900 text-base rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"},[Ue,Object(i["withDirectives"])(Object(i["createElementVNode"])("option",qe," Voucher Pembukuan ",512),[[i["vShow"],""==g.jenisPengajuan.Pajak]])],544),[[i["vModelSelect"],g.Upload.jnsdokumen]])],512),[[i["vShow"],""==g.detail.kode_buku]]),Object(i["withDirectives"])(Object(i["createElementVNode"])("div",Le,[Object(i["createVNode"])(He,{mode:"advanced",chooseLabel:"Browse",maxFileSize:1e6,onUploader:t[10]||(t[10]=e=>p.prosesUpload(e)),customUpload:!0,fileLimit:4,disabled:g.buttonActive,accept:"application/pdf,zip,application/octet-stream,application/zip,application/x-zip,application/x-zip-compressed"},null,8,["disabled"])],512),[[i["vShow"],""==g.detail.kode_buku]]),Object(i["withDirectives"])(Object(i["createElementVNode"])("div",Ke,[Ie,(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(p.getListFile,(e,t)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{class:"row",key:t,value:e},[Object(i["createElementVNode"])("div",$e,[(Object(i["openBlock"])(),Object(i["createElementBlock"])("svg",Ze,ze)),Object(i["createElementVNode"])("p",Je,Object(i["toDisplayString"])(e.lampiran.slice(0,50)),1)]),Object(i["createElementVNode"])("div",Ge,[Object(i["createElementVNode"])("button",{class:"download-style w-full lg:mt-1",style:{float:"'right'"},onClick:t=>p.downloadLinkFile(e.link)}," Download ",8,Qe)])],8,Ae))),128))],512),[[i["vShow"],null!=g.listFileRealisasi]])])]),Object(i["withDirectives"])(Object(i["createElementVNode"])("div",Ye,[Object(i["withDirectives"])(Object(i["createElementVNode"])("button",{type:"button",onClick:t[11]||(t[11]=(...e)=>p.prosesValidasi&&p.prosesValidasi(...e)),class:"bg-bni-blue text-white font-medium rounded-lg text-base px-5 py-2.5 text-center"}," SIMPAN ",512),[[i["vShow"],g.jenisPengajuan.Pajak]]),Object(i["createElementVNode"])("button",{onClick:t[12]||(t[12]=(...e)=>p.hideModal&&p.hideModal(...e)),type:"button",class:"text-gray-500 bg-white hover:bg-gray-100 focus:ring-4 focus:outline-none focus:ring-gray-200 rounded-lg border border-gray-200 text-sm font-medium px-5 py-2.5 hover:text-gray-900 focus:z-10 dark:bg-gray-700 dark:text-gray-300 dark:border-gray-500 dark:hover:text-white dark:hover:bg-gray-600 dark:focus:ring-gray-600"}," TUTUP ")],512),[[i["vShow"],""==g.detail.kode_buku]])])])])],64)}a("b7ef");var Xe=a("e8f7"),et=a("5b2c"),tt=a("6f85"),at=a("8398"),it=a("8d31"),lt=a("c3b3"),nt=a("b9fb"),st=a("5141"),ot=(a("1465"),a("0ba9")),rt={name:"Pengajuan Realisasi",data(){return{v$:Object(lt["a"])(),token:sessionStorage.getItem("token"),modal:null,listRealisasi:null,listFileRealisasi:null,rowSMataAnggaran:null,rowDepartemen:null,rowAnggaran:null,filters:{kddepartemen:"",kdsubmatanggaran:"",status_anggaran:"",status_pengajuan:"",jenis_pengajuan:"",cari:""},pagination:{perPage:5,currentPage:1,totaldata:0},Upload:{myFile:null,id_realisasi:"",kode_pengajuan:"",jnsdokumen:"",Pajak:""},Form:{id_pengajuan:"",tanggal:"",kode_pengajuan:"",kode_buku:"",nominal:"",keterangan:"",user_id:"",tanggal_realisasi:""},jenisPengajuan:{SPK:"",Faktur:"",Invoice:"",FileLampiran:"",Pajak:""},preview:{kode_pengajuan:"",kode_buku:"",nominal:""},buttonActive:!0,detail:{},loading:!1,userSession:JSON.parse(atob(sessionStorage.getItem("dataUser")))}},validations(){return{Form:{kode_buku:{required:nt["d"]},tanggal_realisasi:{required:nt["d"]}}}},components:{DataTable:et["a"],Column:tt["a"],InputText:at["a"],VueDatePicker:st["a"],FileUpload:Xe["a"]},computed:{getAllData(){return this.listRealisasi},getRowPengajuan(){return this.rowPengajuan},getListFile(){return this.listFileRealisasi}},methods:{cekButtonUpload(e){""==e.target.value?this.buttonActive=!0:this.buttonActive=!1},async prosesUpload(e){this.Upload.myFile=e.files[0];let t=new FormData,a=this.Upload;t.append("myFile",a.myFile),t.append("id_realisasi",a.id_realisasi),t.append("kode_pengajuan",a.kode_pengajuan),t.append("jnsdokumen",a.jnsdokumen);try{ot["a"].uploadFileRealisasi(t,this.token).then(e=>{this.$swal({icon:"success",title:"Berhasil",text:e.data.Msg,confirmButtonColor:"#e77817"}).then(async e=>{if(e.isConfirmed){this.jenisPengajuan={SPK:"",Faktur:"",Invoice:"",FileLampiran:""},a.jnsdokumen="";let e={id_realisasi:this.detail.id_realisasi};this.loadFileRealiasi(e)}})})}catch(i){this.$swal({icon:"error",title:"Gagal",text:i.response.data.Msg,confirmButtonColor:"#e77817"})}},async loadFileRealiasi(e){try{let t=await ot["a"].listFileRealisasi(e,this.token);this.listFileRealisasi=t.data.data;for(let e=0;e<this.listFileRealisasi.length;e++)1==this.listFileRealisasi[e].jenis_dokumen?this.jenisPengajuan.SPK=this.listFileRealisasi[e].jenis_dokumen:2==this.listFileRealisasi[e].jenis_dokumen?this.jenisPengajuan.Faktur=this.listFileRealisasi[e].jenis_dokumen:3==this.listFileRealisasi[e].jenis_dokumen?this.jenisPengajuan.Invoice=this.listFileRealisasi[e].jenis_dokumen:4==this.listFileRealisasi[e].jenis_dokumen?this.jenisPengajuan.FileLampiran=this.listFileRealisasi[e].jenis_dokumen:5==this.listFileRealisasi[e].jenis_dokumen&&(this.jenisPengajuan.Pajak=this.listFileRealisasi[e].jenis_dokumen)}catch(t){this.listFileRealisasi=null}},downloadLinkFile(e){window.open(e,"_blank","noreferrer")},setFileUploadSPK(e){this.UploadSPK.myFile=e.files[0]},validationNominal(e){e.value>this.preview.nominal&&this.$swal({icon:"info",title:"INFO",text:"Nominal realisasi tidak boleh lebih dari nominal pengajuan",confirmButtonColor:"#e77817"})},async prosesValidasi(){if(this.v$.$validate(),!this.v$.Form.$error){let e,t=this.Form,a=new Date(t.tanggal_realisasi),i=a.getFullYear(),l=a.getDate(),n=a.getMonth()+1;e=n>=10?n.toString():"0"+n.toString(),t.tanggal_realisasi=i+"-"+e+"-"+l;let s={id_realisasi:this.detail.id_realisasi,status:2,tanggal_pengajuan:this.detail.tanggal_pengajuan.split("T")[0].split("-")[2]+"-"+this.detail.tanggal_pengajuan.split("T")[0].split("-")[1]+"-"+this.detail.tanggal_pengajuan.split("T")[0].split("-")[0],kode_buku:this.Form.kode_buku,userid:this.userSession.username,tanggal_realisasi:this.Form.tanggal_realisasi,status_validasi:1};this.$swal({icon:"question",title:"Simpan realisasi?",showDenyButton:!1,showCancelButton:!0,confirmButtonColor:"#008073",cancelButtonColor:"grey",confirmButtonText:"Simpan",cancelButtonText:"Batal",customClass:{actions:"my-actions",cancelButton:"order-2 right-gap",confirmButton:"order-1"}}).then(async e=>{if(e.isConfirmed)try{await ot["a"].validasiRealisasi(s,this.token),this.responBerhasil(),this.hideModal(),this.refreshListTable(1)}catch(t){this.responError(t)}})}},responBerhasil(){this.$swal({icon:"success",title:"Berhasil",confirmButtonColor:"#e77817"})},async responError(e){await this.$swal({icon:"info",title:"GAGAL",text:e.response.data.Msg,confirmButtonColor:"#e77817"})},async detailView(e){this.listFileRealisasi=null,this.jenisPengajuan={SPK:"",Faktur:"",Invoice:"",FileLampiran:"",Pajak:""},this.detail=e,this.Upload.id_realisasi=e.id_realisasi,this.Upload.kode_pengajuan=e.kode_pengajuan;let t={id_realisasi:this.detail.id_realisasi};try{let e=await ot["a"].listFileRealisasi(t,this.token);this.listFileRealisasi=e.data.data;for(let t=0;t<this.listFileRealisasi.length;t++)1==this.listFileRealisasi[t].jenis_dokumen?this.jenisPengajuan.SPK=this.listFileRealisasi[t].jenis_dokumen:2==this.listFileRealisasi[t].jenis_dokumen?this.jenisPengajuan.Faktur=this.listFileRealisasi[t].jenis_dokumen:3==this.listFileRealisasi[t].jenis_dokumen?this.jenisPengajuan.Invoice=this.listFileRealisasi[t].jenis_dokumen:4==this.listFileRealisasi[t].jenis_dokumen?this.jenisPengajuan.FileLampiran=this.listFileRealisasi[t].jenis_dokumen:5==this.listFileRealisasi[t].jenis_dokumen&&(this.jenisPengajuan.Pajak=this.listFileRealisasi[t].jenis_dokumen)}catch(i){this.listFileRealisasi=null,this.jenisPengajuan={SPK:"",Faktur:"",Invoice:"",FileLampiran:""}}const a=document.getElementById("detail-modal");this.modal=new it["a"](a),this.modal.show()},setPreview(){this.preview={kode_pengajuan:this.Form.id_pengajuan.prefix_kegiatan,nominal:this.Form.id_pengajuan.nominal_pengajuan},this.Form.nominal=this.preview.nominal},cariData(){this.refreshListTable(1)},filterShow(){this.pagination.currentPage=1,this.refreshListTable()},paginationTable(e){this.pagination.perPage=e.rows,this.pagination.currentPage==e.page?this.pagination.currentPage++:this.pagination.currentPage-e.page==1?this.pagination.currentPage--:this.pagination.currentPage=e.page+1,this.refreshListTable()},showInput(){this.Form={id_pengajuan:"",tanggal:"",kode_pengajuan:"",kode_buku:"",nominal:"",keterangan:"",user_id:""};const e=document.getElementById("input-modal");this.modal=new it["a"](e),this.modal.show()},async getData(){this.loading=!0;let e={kdsubmatanggaran:this.filters.kdsubmatanggaran,kddepartemen:"",jenis_pengajuan:this.filters.jenis_pengajuan,perPage:this.pagination.perPage,currentPage:this.pagination.currentPage,cari:this.filters.cari,tanggalawal:"",tanggalakhir:""};try{let t=await ot["a"].listRealisasi(e,this.token);this.pagination.totaldata=t.data.data.total_data,this.listRealisasi=t.data.data.data,this.loading=!1}catch(t){this.listRealisasi=null,this.loading=!1,console.log(t)}},hideModal(){this.modal.hide()},refreshListTable(e=0){0!=e&&(this.pagination.currentPage=1),this.getData()}},mounted(){Object(it["b"])()}},ct=(a("54d4"),a("6b0d")),dt=a.n(ct);const bt=dt()(rt,[["render",We]]);t["default"]=bt}}]);
//# sourceMappingURL=chunk-c2da773e.52f57b0a.js.map